// Top-level build file where you can add configuration options common to all sub-projects/modules.

buildscript {
    repositories {
        mavenLocal()
        google()
        jcenter()

    }
    dependencies {
        classpath 'com.android.tools.build:gradle:4.0.1'
        classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.3.72'
        // NOTE: Do not place your application dependencies here; they belong
        // in the individual module build.gradle files
    }
}

allprojects {
    repositories {
        mavenLocal()
        google()
        jcenter()
    }

}

subprojects {
    afterEvaluate {
        if (project.name != "abcvlib" && project.name != "openCV411" &&
                project.name != "IOIOLibAndroid" && project.name != "IOIOLibCore") {
            android{
                compileOptions {
                    sourceCompatibility(JavaVersion.VERSION_1_8)
                    targetCompatibility(JavaVersion.VERSION_1_8)
                }
            }
            dependencies {
                    implementation(project(":abcvlib"))
//                    implementation project(path: ':IOIOLibAndroid')
//                    implementation project(path: ':IOIOLibCore')
                    implementation 'com.google.mlkit:object-detection:16.2.0'
                    implementation 'com.google.mlkit:object-detection-custom:16.2.0'
                    implementation 'com.google.mlkit:face-detection:16.0.1'
                    implementation 'com.google.mlkit:barcode-scanning:16.0.2'
                    implementation 'com.google.android.gms:play-services-mlkit-text-recognition:16.1.0'
                    implementation 'com.google.mlkit:image-labeling-automl:16.2.0'
                    implementation 'com.google.mlkit:image-labeling:16.2.0'
                    implementation 'com.google.mlkit:image-labeling-custom:16.2.0'
                    implementation 'com.google.code.gson:gson:2.8.5'

//                    implementation 'androidx.appcompat:appcompat:1.2.0'
                    implementation 'androidx.annotation:annotation:1.1.0'
                    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'

                    // CameraX
                    implementation "androidx.camera:camera-camera2:1.0.0-beta07"
                    implementation "androidx.camera:camera-lifecycle:1.0.0-beta07"
                    implementation "androidx.camera:camera-view:1.0.0-alpha14"

                    implementation "androidx.lifecycle:lifecycle-livedata:2.2.0"
                    implementation "androidx.lifecycle:lifecycle-viewmodel:2.2.0"
                    implementation "androidx.camera:camera-core:1.0.0-beta07"
                }
        }
    }
}

ext {

    compileSdkVersion = 28
    buildToolsVersion = '30.0.2'
    minSdkVersion = 21
    targetSdkVersion = 28
    versionCode = 1
    versionName = "1.0"
}

task clean(type: Delete) {
    delete rootProject.buildDir
}